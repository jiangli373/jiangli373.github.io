<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 3 | jiangli&#39;s blog</title>
  <meta name="author" content="jiangli">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="jiangli&#39;s blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="jiangli&#39;s blog" type="application/atom+xml">
    <link rel="stylesheet" href="http://apps.bdimg.com/libs/bootstrap/3.1.1/css/bootstrap.min.css">
<link rel="stylesheet" href="http://apps.bdimg.com/libs/fontawesome/4.0.3/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css">
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="http://apps.bdimg.com/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head>

<body>
  <header id="header" class='normal_mode'>
    <nav id="main-nav">
  <ul class='container'>
    
      <li><a href="/">主页</a></li>
    
      <li><a href="/archives">归档</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
  </header>
  <div id="content" class="container">
    <div id="cover">
	<div id="profile" alt="http://7xi45j.com1.z0.glb.clouddn.com/background-cover.jpg">
		<a href="/">
			<div class="logo">
				<img src="/logo.png" alt="Profile Picture">
			</div>
			<div id="title">jiangli's blog</div>
		</a>

		
		 <ul class="my-socials">
  
  <li>
  	<a href="https://github.com/jiangli373" class="github" target="_blank">
  		<i class="fa fa-github"></i>
  	</a>
  </li>
  
  <li>
  	<a href="http://weibo.com/2460847854/profile?topnav=1&wvr=6" class="weibo" target="_blank">
  		<i class="fa fa-weibo"></i>
  	</a>
  </li>
  
 
 <li>
   	<a href="mailto:715015723@qq.com" class="email" target="_blank" title="Email Me">
  		<i class="fa fa-envelope"></i>
  	</a>
 </li>
 
  
  <li>
   <a href="/atom.xml" class="email" target="_blank" title="订阅">
    <i class="fa fa-rss"></i>
   </a>
  </li>
  
</ul>
	</div>
</div>


  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-10-08T08:14:36.000Z"><a href="/2014/10/08/ubuntu安装logwacth/">Wed, Oct 8 2014, 4:14:36 pm</a></time>

  
    <h1 class="title"><a href="/2014/10/08/ubuntu安装logwacth/">ubuntu安装logwacth</a></h1>
  



  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/tags/ubuntu/">ubuntu</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>安装logwatch的前提条件：</p>
<p>Prerequisites  </p>
<p> Ensure email is working. Instructions for doing so may be found in MailServer.</p>
<p> Turn on universe repository. Instructions for doing so may be found in Repositories.</p>
<p>1.首先安装MailServer</p>
      
    </div>
    <footer>
      
        <div class="alignleft">
            <a href="/2014/10/08/ubuntu安装logwacth/#more" class="more-link"><i class="fa fa-chevron-right"></i>Read More</a>
        </div>
        
        
          <div class="alignright"> 
            <a href="http://jiangli373.github.io/2014/10/08/ubuntu安装logwacth/#comment" class="comment-link">
              <i class="fa fa-comments"></i><span class="ds-thread-count" data-thread-key="/2014/10/08/ubuntu安装logwacth/">&nbsp;
              </span>
            </a>
          </div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-10-08T08:00:45.000Z"><a href="/2014/10/08/mongodb备份和修复/">Wed, Oct 8 2014, 4:00:45 pm</a></time>

  
    <h1 class="title"><a href="/2014/10/08/mongodb备份和修复/">mongodb备份和修复</a></h1>
  



<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>mongodb备份</p>
<p>1.执行如下命令</p>
<pre><code>mongodump  -d spy  -o new_back

-d指定了要备份的数据库，-o指定要将备份的数据库存放位置
</code></pre><p><img src="/img/149160bd67e03669f65bc1d2ec57d74a.png" alt=""></p>
<p>完成以后，可以在new_back目录下找到刚才备份玩的数据</p>
      
    </div>
    <footer>
      
        <div class="alignleft">
            <a href="/2014/10/08/mongodb备份和修复/#more" class="more-link"><i class="fa fa-chevron-right"></i>Read More</a>
        </div>
        
        
          <div class="alignright"> 
            <a href="http://jiangli373.github.io/2014/10/08/mongodb备份和修复/#comment" class="comment-link">
              <i class="fa fa-comments"></i><span class="ds-thread-count" data-thread-key="/2014/10/08/mongodb备份和修复/">&nbsp;
              </span>
            </a>
          </div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-10-08T07:56:44.000Z"><a href="/2014/10/08/ubuntu-使用iptables创建防火墙/">Wed, Oct 8 2014, 3:56:44 pm</a></time>

  
    <h1 class="title"><a href="/2014/10/08/ubuntu-使用iptables创建防火墙/">ubuntu 使用iptables创建防火墙</a></h1>
  



  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/tags/ubuntu/">ubuntu</a>, <a href="/tags/iptables/">iptables</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>iptables是Linux上常用的防火墙软件，下面就介绍下怎么通过iptables创建防火墙</p>
<p>1.检查下你的服务器是否有了默认的防火墙设置</p>
<pre><code>sudo iptables -L
</code></pre><p>如果没有设置话，会输出空白的结果，如下所示：</p>
<pre><code>Chain INPUT (policy ACCEPT)
target     prot opt source               destination

Chain FORWARD (policy ACCEPT)
target     prot opt source               destination

Chain OUTPUT (policy ACCEPT)
target     prot opt source               destination
</code></pre>
      
    </div>
    <footer>
      
        <div class="alignleft">
            <a href="/2014/10/08/ubuntu-使用iptables创建防火墙/#more" class="more-link"><i class="fa fa-chevron-right"></i>Read More</a>
        </div>
        
        
          <div class="alignright"> 
            <a href="http://jiangli373.github.io/2014/10/08/ubuntu-使用iptables创建防火墙/#comment" class="comment-link">
              <i class="fa fa-comments"></i><span class="ds-thread-count" data-thread-key="/2014/10/08/ubuntu-使用iptables创建防火墙/">&nbsp;
              </span>
            </a>
          </div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-10-08T07:50:04.000Z"><a href="/2014/10/08/ubuntu系统启动运行时间/">Wed, Oct 8 2014, 3:50:04 pm</a></time>

  
    <h1 class="title"><a href="/2014/10/08/ubuntu系统启动运行时间/">ubuntu系统启动运行时间</a></h1>
  



  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/tags/ubuntu/">ubuntu</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <h3 id="第一个数字代表已经运行的时间"><a href="#第一个数字代表已经运行的时间" class="headerlink" title="第一个数字代表已经运行的时间"></a>第一个数字代表已经运行的时间</h3><pre><code>$cat /proc/uptime

31341.94
</code></pre>
      
    </div>
    <footer>
      
        <div class="alignleft">
            <a href="/2014/10/08/ubuntu系统启动运行时间/#more" class="more-link"><i class="fa fa-chevron-right"></i>Read More</a>
        </div>
        
        
          <div class="alignright"> 
            <a href="http://jiangli373.github.io/2014/10/08/ubuntu系统启动运行时间/#comment" class="comment-link">
              <i class="fa fa-comments"></i><span class="ds-thread-count" data-thread-key="/2014/10/08/ubuntu系统启动运行时间/">&nbsp;
              </span>
            </a>
          </div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-10-08T07:47:24.000Z"><a href="/2014/10/08/ubuntu-server多用户共享版本库/">Wed, Oct 8 2014, 3:47:24 pm</a></time>

  
    <h1 class="title"><a href="/2014/10/08/ubuntu-server多用户共享版本库/">ubuntu server多用户共享版本库</a></h1>
  



  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/tags/ubuntu-server/">ubuntu server</a>, <a href="/tags/git/">git</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>问题：远程版本库使用gitolite，客户端需要克隆版本库，<br>需要把客户的公钥放入到gitolite上面去，可以算是一个萝卜一个坑，<br>其实就是通过密钥对来控制对远程版本库的访问。现在的问题是，<br>一个服务器上有个用户克隆下来了远程的版本库，如果远程版本库有更新，服务器需要同步更新，<br>这时就有问题出来了，每次更新都得这个用户才能更新，如果这个用户不在的话，岂不是更新不了了？</p>
<p>解决方法：<br>
      
    </div>
    <footer>
      
        <div class="alignleft">
            <a href="/2014/10/08/ubuntu-server多用户共享版本库/#more" class="more-link"><i class="fa fa-chevron-right"></i>Read More</a>
        </div>
        
        
          <div class="alignright"> 
            <a href="http://jiangli373.github.io/2014/10/08/ubuntu-server多用户共享版本库/#comment" class="comment-link">
              <i class="fa fa-comments"></i><span class="ds-thread-count" data-thread-key="/2014/10/08/ubuntu-server多用户共享版本库/">&nbsp;
              </span>
            </a>
          </div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-10-08T07:06:47.000Z"><a href="/2014/10/08/gitolite-导入gitlab/">Wed, Oct 8 2014, 3:06:47 pm</a></time>

  
    <h1 class="title"><a href="/2014/10/08/gitolite-导入gitlab/">gitolite 导入gitlab</a></h1>
  



  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/tags/gitlab/">gitlab</a>, <a href="/tags/gitolite/">gitolite</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>很久以前项目是用gitolite做为远程版本库管理的工具，后来发现了gitlab，一款类似github的工具，很不赖，<br>所以决定以后都用gitlab了，需要把以前gitolite的项目搞过来。</p>
<p>参考：<a href="https://github.com/gitlabhq/gitlabhq/blob/master/doc/raketasks/maintenance.md" target="_blank" rel="noopener">https://github.com/gitlabhq/gitlabhq/blob/master/doc/raketasks/maintenance.md</a></p>
<p>目前gitlab的repositories与gitolite的在同一个目录下  </p>
      
    </div>
    <footer>
      
        <div class="alignleft">
            <a href="/2014/10/08/gitolite-导入gitlab/#more" class="more-link"><i class="fa fa-chevron-right"></i>Read More</a>
        </div>
        
        
          <div class="alignright"> 
            <a href="http://jiangli373.github.io/2014/10/08/gitolite-导入gitlab/#comment" class="comment-link">
              <i class="fa fa-comments"></i><span class="ds-thread-count" data-thread-key="/2014/10/08/gitolite-导入gitlab/">&nbsp;
              </span>
            </a>
          </div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-10-08T07:02:18.000Z"><a href="/2014/10/08/nginx直接返回json/">Wed, Oct 8 2014, 3:02:18 pm</a></time>

  
    <h1 class="title"><a href="/2014/10/08/nginx直接返回json/">nginx直接返回json</a></h1>
  



  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/tags/nginx/">nginx</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>nginx [engine x]是Igor Sysoev编写的一个HTTP和反向代理服务器，另外它也可以作为邮件代理服务器。 它已经在众多流量很大的俄罗斯网站上使用了很长时间，这些网站包括Yandex、Mail.Ru、VKontakte，以及Rambler。</p>
<p>—摘自<a href="http://nginx.org/cn/" target="_blank" rel="noopener">nginx官网</a></p>
<p>项目使用nginx做代理，如果遇到项目升级，我们要告知手机客户端当前服务不可用，我们又不想专门起一个项目来做这件事，<br>这里可以使用nginx的配置来解决这件事。</p>
<pre><code>location ^~/api/ {
    default_type application/json;
    return 200 &apos;{&quot;ret&quot;:&quot;-11&quot;,&quot;msg&quot;:&quot;尊敬的客户：由于后台系统升级维护，给您带来不便请见谅。&quot;}&apos;;
}
</code></pre>
      
    </div>
    <footer>
      
        <div class="alignleft">
            <a href="/2014/10/08/nginx直接返回json/#more" class="more-link"><i class="fa fa-chevron-right"></i>Read More</a>
        </div>
        
        
          <div class="alignright"> 
            <a href="http://jiangli373.github.io/2014/10/08/nginx直接返回json/#comment" class="comment-link">
              <i class="fa fa-comments"></i><span class="ds-thread-count" data-thread-key="/2014/10/08/nginx直接返回json/">&nbsp;
              </span>
            </a>
          </div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-10-08T06:49:32.000Z"><a href="/2014/10/08/ubuntu-server使用logrotate切割日志/">Wed, Oct 8 2014, 2:49:32 pm</a></time>

  
    <h1 class="title"><a href="/2014/10/08/ubuntu-server使用logrotate切割日志/">ubuntu server使用logrotate切割日志</a></h1>
  



  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/tags/linux/">linux</a>, <a href="/tags/ubuntu-server/">ubuntu server</a>, <a href="/tags/logrotate/">logrotate</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>logrotate 程序是一个日志文件管理工具。用来把旧的日志文件删除，并创建新的日志文件，我们把它叫做“转储”。<br>我们可以根据日志文件的大小，也可以根据其天数来转储，这个过程一般通过 cron 程序来执行。</p>
<p>ubuntu server默认已经安装了logrotate</p>
      
    </div>
    <footer>
      
        <div class="alignleft">
            <a href="/2014/10/08/ubuntu-server使用logrotate切割日志/#more" class="more-link"><i class="fa fa-chevron-right"></i>Read More</a>
        </div>
        
        
          <div class="alignright"> 
            <a href="http://jiangli373.github.io/2014/10/08/ubuntu-server使用logrotate切割日志/#comment" class="comment-link">
              <i class="fa fa-comments"></i><span class="ds-thread-count" data-thread-key="/2014/10/08/ubuntu-server使用logrotate切割日志/">&nbsp;
              </span>
            </a>
          </div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-10-08T06:43:18.000Z"><a href="/2014/10/08/Get-the-text-after-span-element-using-jquery/">Wed, Oct 8 2014, 2:43:18 pm</a></time>

  
    <h1 class="title"><a href="/2014/10/08/Get-the-text-after-span-element-using-jquery/">Get the text after span element using jquery</a></h1>
  



  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/tags/jquery/">jquery</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>Get the text after span element using jquery</p>
<pre><code>&lt;div id=&quot;mydiv&quot;&gt;
    &lt;div&gt;
        &lt;span&gt;Text inside span&lt;/span&gt;
        Text next to span
    &lt;/div&gt;
    &lt;div&gt;
        Contents inside the 2nd div element...
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
      
    </div>
    <footer>
      
        <div class="alignleft">
            <a href="/2014/10/08/Get-the-text-after-span-element-using-jquery/#more" class="more-link"><i class="fa fa-chevron-right"></i>Read More</a>
        </div>
        
        
          <div class="alignright"> 
            <a href="http://jiangli373.github.io/2014/10/08/Get-the-text-after-span-element-using-jquery/#comment" class="comment-link">
              <i class="fa fa-comments"></i><span class="ds-thread-count" data-thread-key="/2014/10/08/Get-the-text-after-span-element-using-jquery/">&nbsp;
              </span>
            </a>
          </div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-10-08T06:38:11.000Z"><a href="/2014/10/08/linux-编写mongodb备份脚本/">Wed, Oct 8 2014, 2:38:11 pm</a></time>

  
    <h1 class="title"><a href="/2014/10/08/linux-编写mongodb备份脚本/">linux 编写mongodb备份脚本</a></h1>
  



  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/tags/mongodb/">mongodb</a>, <a href="/tags/linux/">linux</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>原文地址:<a href="http://www.cnblogs.com/tangnie/p/3148782.html" target="_blank" rel="noopener">http://www.cnblogs.com/tangnie/p/3148782.html</a></p>
<p>Mongodb用的是可以热备份的mongodump和对应恢复的mongorestore,在linux下面使用shell脚本写的定时备份，代码如下</p>
      
    </div>
    <footer>
      
        <div class="alignleft">
            <a href="/2014/10/08/linux-编写mongodb备份脚本/#more" class="more-link"><i class="fa fa-chevron-right"></i>Read More</a>
        </div>
        
        
          <div class="alignright"> 
            <a href="http://jiangli373.github.io/2014/10/08/linux-编写mongodb备份脚本/#comment" class="comment-link">
              <i class="fa fa-comments"></i><span class="ds-thread-count" data-thread-key="/2014/10/08/linux-编写mongodb备份脚本/">&nbsp;
              </span>
            </a>
          </div>
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/page/2/" class="alignleft prev"><i class="fa fa-long-arrow-left"></i>Prev</a>
  
  
    <a href="/page/4/" class="alignright next">Next<i class="fa fa-long-arrow-right"></i></a>
  
  <div class="clearfix"></div>
</nav>

<script src="/js/jquery.anystretch.min.js"></script>
<script src="/js/cover.js"></script>

    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div>
  
  &copy; 2018 jiangli
  
</div>
Powered by <a href="http://zespia.tw/hexo/" title="Hexo" target="_blank" rel="noopener">Hexo</a> and <a href="http://pages.github.com/" title="GitHub Pages" target="_blank" rel="noopener">GitHub Pages</a>

<div class="clearfix"></div></footer>
  
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




    <script type="text/javascript">
        (function(){

            $(window).scroll(function(){

                var scrollTop = $(window).scrollTop();
                if ( scrollTop >200 ){
                    $("#main-nav").removeClass('normal_mode').addClass('top_mode');
                } else{
                    $("#main-nav").removeClass('top_mode').addClass('normal_mode');
                }

            });

        })();
    </script>



  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
  (function($){
    $('.fancybox').fancybox({
      'titlePosition': 'inside'
    });
  })(jQuery);
  </script>



    
    <script type="text/javascript">
      var duoshuoQuery = {short_name:"nuonuo"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = 'http://static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0] 
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>



<script type="text/javascript">
  
  $(function(){

    $('.title').hover(
      function() {      
        $(this).stop().animate(
          {'marginLeft': '10px'}, 200
        );   
      }, 
      function() {       
        $(this).stop().animate({'marginLeft': '0px'}, 200);      
      
    });   

  });

</script>


</body>
</html>